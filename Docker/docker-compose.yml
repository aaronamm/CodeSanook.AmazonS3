version: '3.7'
# Useful links
# localstack overview https://github.com/localstack/localstack#overview
# https://dev.to/goodidea/how-to-fake-aws-locally-with-localstack-27me
# https://www.stevejgordon.co.uk/running-aws-s3-simple-storage-service-using-docker-for-net-core-developers
services:
  localstack-s3:
    image: localstack/localstack:latest
    container_name: localstack-s3
    environment:
     - SERVICES=s3:4572 # Enable S3 at default port 
     # https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints
     - DEFAULT_REGION=ap-southeast-1 # Asia Pacific (Singapore)
     - DATA_DIR=/localstack-data/s3
    ports:
     - "4572:4572" # S3 default port
     - "8000:8080" # local stack web UI port
    volumes:
      - ./localstack-data/s3:/localstack-data/s3
